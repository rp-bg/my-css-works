

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: system-ui, sans-serif;
}

.spacer {
  height: 150vh;
}

/* container */
.container {
  height: 100vh;
  display: grid;
  place-items: center;
  text-align: center;
}

/* chaos area using native nested CSS */
.chaos {
  position: relative;
  width: 400px;
  height: 200px;

  /* box styles */
  .box {
    position: absolute;
    left: 0;
    top: 60px;
    width: 80px;
    height: 80px;
    background: #111;
    color: #fff;
    display: grid;
    place-items: center;
    font-size: 2rem;
    border-radius: 12px;
    opacity: 0;
    transform-origin: center;
    will-change: transform, opacity;
  }
}

/* FINAL ORDERED POSITIONS */
@keyframes move-1 {
  from { transform: translate(-200px, -150px) rotate(40deg); opacity: 0; }
  to   { transform: translate(0, 0) rotate(0); opacity: 1; }
}

@keyframes move-2 {
  from { transform: translate(180px, -120px) rotate(-30deg); opacity: 0; }
  to   { transform: translate(100px, 0) rotate(0); opacity: 1; }
}

@keyframes move-3 {
  from { transform: translate(-150px, 130px) rotate(-45deg); opacity: 0; }
  to   { transform: translate(200px, 0) rotate(0); opacity: 1; }
}

@keyframes move-4 {
  from { transform: translate(220px, 160px) rotate(60deg); opacity: 0; }
  to   { transform: translate(300px, 0) rotate(0); opacity: 1; }
}

/* Define the scroll-linked timeline. `source: auto` makes the timeline use the nearest scroll container (viewport here).
   Note: `@scroll-timeline` and `animation-timeline` are part of the Scroll-Linked Animations spec; browser support varies.
*/
@scroll-timeline chaos-timeline {
  source: auto;
  orientation: block;
  /* start when the element is scrolled further into view (reduces autoplay at load)
     adjust these values if you want the animation to begin earlier/later */
  scroll-offsets: 100% 200%;
}

/* Enable scroll-linked animations only when supported to avoid autoplay on page load */
@supports (animation-timeline: none) {
  .chaos .box {
    animation-duration: 1s;
    animation-fill-mode: both;
    animation-range: 0 1;
    animation-timeline: chaos-timeline;
    animation-delay: var(--delay, 0s);

    &:nth-child(1) { animation-name: move-1; --delay: 0s; }
    &:nth-child(2) { animation-name: move-2; --delay: 0.08s; }
    &:nth-child(3) { animation-name: move-3; --delay: 0.16s; }
    &:nth-child(4) { animation-name: move-4; --delay: 0.24s; }
  }

 
}


